(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2311:function(e,t,a){Promise.resolve().then(a.bind(a,4979))},7171:function(e,t,a){"use strict";a.d(t,{H:function(){return u}});var r=a(7437),n=a(2265),s=a(6677),o=a(3085),c=a(4086);let i=(0,c.ad)(s.Z),l=(0,n.createContext)(),u=e=>{let{children:t}=e,[a,u]=(0,n.useState)(null),[d,f]=(0,n.useState)(null),[h,p]=(0,n.useState)(!1),[x,v]=(0,n.useState)(!0),m=(0,o.v0)(s.Z),S=async e=>{let t=(0,c.JU)(i,"usuarios/".concat(e)),a=await (0,c.QT)(t),r=a.data();return r};return(0,n.useEffect)(()=>{let e=(0,o.Aj)(m,async e=>{try{if(e){let t=await S(e.uid);if(t){let a={uid:e.uid,email:e.email,nombre:t.nombre,apellido:t.apellido,rol:t.rol};console.log(m.currentUser),u(a),f(t.rol)}else console.error("Los datos del usuario no est\xe1n disponibles.")}else u(null);v(!1)}catch(e){console.error("Error al obtener datos del usuario:",e)}});return()=>e()},[m]),(0,r.jsx)(l.Provider,{value:{user:a,setUser:u,userRole:d,setRutaProhibida:p,rutaProhibida:h,userLoading:x},children:t})};t.Z=l},9930:function(e,t,a){"use strict";a.d(t,{xi:function(){return d}});var r=a(7437),n=a(2265),s=a(7171),o=a(6677),c=a(3085),i=a(4086);let l=(0,i.ad)(o.Z),u=(0,n.createContext)(),d=e=>{let{children:t}=e,[a,d]=(0,n.useState)([]),[f,h]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!0),[v,m]=(0,n.useState)(!1),[S,_]=(0,n.useState)(""),[y,g]=(0,n.useState)([]),[j,b]=(0,n.useState)(!1),[P,C]=(0,n.useState)(!1),[E,Z]=(0,n.useState)(!1),[w,I]=(0,n.useState)(null),[N,k]=(0,n.useState)({currentPage:0,maxIndexPage:15,minIndexPage:0});(0,c.v0)(o.Z);let{user:J}=(0,n.useContext)(s.Z),L=async e=>{try{await (0,i.ET)((0,i.hJ)(l,"productos"),{...e}),console.log("Producto creado con \xe9xito")}catch(e){console.log(e)}},A=async e=>{try{await (0,i.oe)((0,i.JU)(l,"productos",e.id)),h(!0)}catch(e){console.error(e)}},D=async e=>{try{let t=(0,i.JU)(l,"productos",e.id);await (0,i.pl)(t,e),h(!0)}catch(e){console.error("Error al actualizar el producto:",e)}};return(0,n.useEffect)(()=>{if(J){let e=async()=>{try{let e=await (0,i.PL)((0,i.hJ)(l,"productos")),t=[];e.forEach(e=>{t.push({...e.data(),id:e.id})}),d(t),x(!1),console.log("fetch desde data")}catch(e){console.log(e)}};e()}h(!1)},[f,J]),(0,r.jsx)(u.Provider,{value:{data:a,crearProducto:L,borrarProducto:A,edit:v,setEdit:m,update:w,setUpdate:I,actualizarProducto:D,search:S,setSearch:_,currentFilter:y,setCurrentFilter:g,visibleSelected:j,setVisibleSelected:b,pagination:N,setPagination:k,setShowForm:C,showForm:P,recargar:f,setRecargar:h,setIsLoading:x,visibleNewUser:E,setVisibleNewUser:Z},children:t})};t.ZP=u},2321:function(e,t,a){"use strict";a.d(t,{G:function(){return u},H:function(){return d}});var r=a(7437),n=a(2265),s=a(6677),o=a(4086),c=a(7171),i=a(3085);let l=(0,o.ad)(s.Z),u=(0,n.createContext)({}),d=e=>{let{children:t}=e,[a,d]=(0,n.useState)([]),[f,h]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),[v,m]=(0,n.useState)(!1),[S,_]=(0,n.useState)({}),{user:y}=(0,n.useContext)(c.Z);return(0,i.v0)(s.Z),(0,n.useEffect)(()=>{if(y){let e=async()=>{try{let e=await (0,o.PL)((0,o.hJ)(l,"pedidos")),t=[];e.forEach(e=>{t.push({...e.data(),id:e.id})}),d(t),console.log("fetch desde pedidos")}catch(e){console.log(e)}};e()}h(!1)},[f,y]),(0,r.jsx)(u.Provider,{value:{pedidos:a,setPedidos:d,setRecargarPedidos:h,openPedidoGrande:p,setOpenPedidoGrande:x,pedidoSeleccionado:v,setPedidoSeleccionado:m,cartasAbiertasPedidos:S,setCartasAbiertasPedidos:_,cerrarCartaPedidos:()=>{_({})}},children:t})}},7939:function(e,t,a){"use strict";a.d(t,{I:function(){return d}});var r=a(7437),n=a(2265),s=a(7171),o=a(6677),c=a(4086),i=a(3085);let l=(0,c.ad)(o.Z),u=(0,n.createContext)({}),d=e=>{let{children:t}=e,[a,d]=(0,n.useState)([]),[f,h]=(0,n.useState)([]),[p,x]=(0,n.useState)(null),[v,m]=(0,n.useState)(!1),[S,_]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1),[j,b]=(0,n.useState)({}),{user:P}=(0,n.useContext)(s.Z);return(0,i.v0)(o.Z),(0,n.useEffect)(()=>{if(P){let e=async()=>{try{let e=await (0,c.PL)((0,c.hJ)(l,"mesas")),t=[];e.forEach(e=>{t.push({...e.data(),id:e.id})}),d(t),console.log("fetch desde Salon")}catch(e){console.error("Error fetching data:",e)}};e()}_(!1)},[S,P]),(0,r.jsx)(u.Provider,{value:{mesas:a,setMesas:d,productosMesa:f,setProductosMesa:h,mesaSeleccionada:p,setMesaSeleccionada:x,openMesaGrande:v,setOpenMesaGrande:m,setRecargarMesas:_,setConfirm:g,cartasAbiertas:j,setCartasAbiertas:b,cerrarCarta:()=>{b({})}},children:t})};t.Z=u},4979:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j},metadata:function(){return g}});var r=a(7437),n=a(1641),s=a.n(n),o=a(9930);a(2471);var c=a(1988),i=a(62),l=a(2759),u=a(7939),d=a(1396),f=a.n(d),h=a(4349),p=a.n(h),x=a(3085),v=a(2265),m=a(7171),S=a(4033),_=()=>{let{user:e}=(0,v.useContext)(m.Z),{push:t}=(0,S.useRouter)(),a=(0,S.usePathname)(),[n,s]=(0,v.useState)(""),o=(0,S.useRouter)();(0,v.useEffect)(()=>{s(a)},[a]);let c=async()=>{let e=(0,x.v0)();try{await (0,x.w7)(e),t("/"),console.log("Cierre de sesi\xf3n exitoso")}catch(e){console.error("Error al cerrar la sesi\xf3n",e)}};return(0,r.jsx)(r.Fragment,{children:e?(0,r.jsxs)("div",{className:p()["nav-principal-container"],children:[(0,r.jsxs)("div",{className:p()["nav-principal-items"],children:[(0,r.jsx)(f(),{href:"/Salon",children:"Salon"}),(0,r.jsx)(f(),{href:"/Delivery",children:"Delivery"}),(0,r.jsx)(f(),{href:"/Home",children:"Administrador"})]}),e?(0,r.jsx)("h2",{onClick:c,children:"Log out"}):(0,r.jsx)("h2",{onClick:()=>{o.push("/")},children:"Log in"})]}):null})};a(6677);var y=a(2321);c.vI.add(i.mdU,l.Vui,l._3l);let g={title:"Mercadito",description:"Generated by create next app"};function j(e){let{children:t}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:s().className,children:(0,r.jsx)(m.H,{children:(0,r.jsx)(y.H,{children:(0,r.jsx)(u.I,{children:(0,r.jsxs)(o.xi,{children:[(0,r.jsx)(_,{}),t]})})})})})})}},6677:function(e,t,a){"use strict";var r=a(994);let n=(0,r.ZF)({apiKey:"AIzaSyCPoFDVhJEAu33lNxC1gOiYbr2TvADIpgQ",authDomain:"barcome-4054b.firebaseapp.com",projectId:"barcome-4054b",storageBucket:"barcome-4054b.appspot.com",messagingSenderId:"241982700888",appId:"1:241982700888:web:f1f218f72c25c13270792d"});t.Z=n},2471:function(){},4349:function(e){e.exports={"nav-principal-container":"navPrincipal_nav-principal-container___X5fm","nav-principal-items":"navPrincipal_nav-principal-items__kmmrC",active:"navPrincipal_active__G3YTc"}},1641:function(e){e.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9"}},4033:function(e,t,a){e.exports=a(8165)}},function(e){e.O(0,[358,487,676,958,647,988,396,971,596,744],function(){return e(e.s=2311)}),_N_E=e.O()}]);